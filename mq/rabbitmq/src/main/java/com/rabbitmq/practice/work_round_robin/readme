此包下是一个生产者,两个消费者的mq模式,消费者1和消费者2处理的消息是一样的
消费者1:偶数
消费者2:奇数
但是消费者1处理两秒,二而消费者二处理一秒
这种方式叫做轮询分发(round-robin),结果就是不管谁忙谁清闲,都不会多给一个消息,任务消息总是你一个我一个

解决方案是使用公平分发,basicQos(perfetch=1),即手动反馈;消费者1接收到消息要反馈给rabbit
一个回应说"我已经接收到了,你可以继续发下一个了",然后mq就继续给消费者1发送消息;而
消费者2没有反馈,所以rabbitmq就不会继续发送消息给消费者2
使用公平分发时必须关闭自动应答ack,改成手动应答
使用公平分发的代码在work_fair包下